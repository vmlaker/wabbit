<html>

<head>
  <title>Wabbit</title>
  <link href="style.css" rel="stylesheet" type="text/css">

  <a href="https://github.com/vmlaker/wabbit"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>

</head>

<body>

  <div class="main_block">

    <div style="float: left;">
    <h1>Wabbit</h1>
    </div>

    <div style="float: left;">
      <div class="logo">
        <image src="logo.png"/>
      </div>
    </div>

    <div style="clear: left;">
    </div>

    <p>
      A simple webcam recorder that takes continuous snapshots,
      stores images on disk and maintains archive index in a relational database.
      Comes with a web page displaying current snapshot and server info.
      Check out the live demo:
      <div class="demo_link">
        <a href="http://vmlaker.org/wabbit">http://vmlaker.org/wabbit</a>
      </div>
    </p>

    <h2>Installation</h2>

    <p>
      The code is written in Python, with a little bit of
      <a href="http://coffeescript.org">CoffeeScript</a> for the viewer page.
      <a href="http://docs.opencv.org">OpenCV</a> is used to interact with the camera.
      <a href="http://vmlaker.github.io/mpipe">MPipe</a> module is used for parallel processing.
      Database is accessed with
      <a href="http://www.sqlalchemy.org">SQLAlchemy</a> (running on MySQL engine.)
      The web app itself is powered by <a href="http://flask.pocoo.org">Flask</a>
      and the client calls AJAX using
      <a href="http://jquery.org">JQuery</a>.
    </p>

    <p>
      All the aforementioned softwares are open source.
      Start by getting the essentials:
    </p>

    <div class="code_block">
      pip install -r requirements.txt
      npm install coffee-script
      git clone --recursive http://github.com/vmlaker/wabbit 
    </div>

    <p>
      You will also need OpenCV Python bindings, and MySQL.
      To run the web app on Apache HTTPD, you're gonna need mod_wsgi.
    </p>

    <h2>Usage</h2>

    <p>
      Test the camera:
    </p>

    <div class="code_block">
      cd wabbit
      python src/create.py
      python src/record.py 10
      python src/dump.py
      python src/prune.py -60
      python src/dump.py
      python src/drop.py
    </div>

    <p>
      Compile the front end (from CoffeeScript to JavaScript):
    </p>

    <div class="code_block">
      coffee -o static -c src/main.coffee
    </div>

    <h2>Deployment to server</h2>

    <p>
      Customize your app by editing files 
      <code>wabbit.wsgi</code> and <code>wabbit.cfg</code>.
      Then deploy to your web server. For Apache HTTPD just run the following
      (assuming your <code>DocumentRoot</code> is <code>/var/www/html/wabbit</code>):
    </p>

    <div class="code_block">
      python src/deploy.py /var/www/html/wabbit
    </div>

    <p>
      Configure your web server, then restart:
    </p>
      
    <div class="code_block">
      systemctl restart httpd.service
    </div>

</body>

</html>
